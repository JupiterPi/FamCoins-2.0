<!DOCTYPE html>
<html>
    <head>
        <title>FamCoins</title><meta charset="utf-8">
        <script src="libraries.js"></script>
        <script src="script.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script>
            window.onload = function() {
                getJSONAsTable("/user", "users_table");
            }
        </script>
    </head>
    <body>
        <h1>FamCoins</h1>
        <div id="users_table">
            <h2>Users</h2>
        </div>
        <button onclick="addTransImage()">Add column</button>
        <script>
            function addTransImage() {
                var link = document.createElement("a");
                link.href="#";
                link.setAttribute("onclick", "showTablesFor(this.parentNode.parentNode.childNodes[0].innerText);");

                var img = document.createElement("img");
                img.src = "trans+mreq.png";
                link.appendChild(img);
                
                addColumn("tablein:users_table", "", link);
            }

            function showTablesFor(userId) {
                alert(userId);
            }
        </script>
    </body>
</html>